---
layout: post
---
<html>
 <head>
  <meta charset="utf-8"/>
 </head>
 <body>
  <div id="page">
   <a class="url fn n profile-usercard-hover" href="https://social.msdn.microsoft.com/profile/Adrian Hall (MSFT)" target="_blank">
    Adrian Hall (MSFT)
   </a>
   <time>
    12/19/2016 7:56:48 PM
   </time>
   <hr/>
   <div id="content">
    Today, in our final Azure Mobile Apps release of the year, we are releasing a new version of the server-side Azure Mobile Apps Node.js SDK.  It's labelled v4.0 because of important breaking changes, but does not introduce any new features.
    <h3>
     Breaking Changes
    </h3>
    If dynamic schema was enabled, inserting an item with new columns would also create a deleted column which was unnecessary if the soft delete option was turned off for the table.  With v4.0, the deleted column is not created when it is unnecessary.  This may affect automated clean-up scripts that don't take into account the soft delete setting on the table. (
    <a href="https://github.com/Azure/azure-mobile-apps-node/issues/504" target="_blank">
     Issue #504
    </a>
    )

If an update or delete was performed against soft-deleted records, the server would return a 409 HTTP status code.  This was in contrast with the ASP.NET server that returned a 404 HTTP status code.  The Node.js SDK has been updated to return a 404 HTTP static code. (
    <a href="https://github.com/Azure/azure-mobile-apps-node/issues/497" target="_blank">
     Issue #497
    </a>
    )

Finally, our documentation was out of line with our code with respect to paging options.  Previously, the server would place a hard limit on the number of records returned (the
    <tt>
     pageSize
    </tt>
    option), despite the
    <tt>
     maxTop
    </tt>
    option being higher.  The pageSize option now only affects the number of records returned if a
    <tt>
     $top
    </tt>
    expression is not provided, and the maximum number of records returned is correctly determined by the maxTop option. (
    <a href="https://github.com/Azure/azure-mobile-apps-node/issues/480" target="_blank">
     Issue #480
    </a>
    )
    <h3>
     Other Fixes
    </h3>
    An issue existed whereby a custom API whose access level was set to 'authenticated' would allow unauthenticated requests.  This only affected apps where the access level was applied to the entire API and not individual methods within the API and who were also using a custom authentication scheme.  Using the App Service Authentication / Authorization mitigated this issue.   With the v4.0 release, this issue has been corrected.  (
    <a href="https://github.com/Azure/azure-mobile-apps-node/issues/514" target="_blank">
     Issue #514
    </a>
    )
    <h3>
     User Impact
    </h3>
    Any user who is using the server via an Azure Mobile Apps client SDK should not be impacted by any of these changes.  If you use the server directly through the OData interface, then you should review the changes carefully before upgrading.

As always, our team is ready to assist should you have questions.  Please contact us through
    <a href="https://social.msdn.microsoft.com/forums/en-US/home?forum=azuremobile&amp;filter=alltypes&amp;sort=lastpostdesc" target="_blank">
     Azure Forums
    </a>
    or
    <a href="http://stackoverflow.com/questions/tagged/azure-mobile-services" target="_blank">
     Stack Overflow
    </a>
    .
   </div>
  </div>
 </body>
 <script src="{{ site.baseurl }}/resource/jquery-1.12.1.min.js" type="text/javascript">
 </script>
 <script src="{{ site.baseurl }}/resource/replace.js" type="text/javascript">
 </script>
</html>
