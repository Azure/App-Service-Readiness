---
layout: post
---
<html>
 <head>
  <meta charset="utf-8"/>
 </head>
 <body>
  <div id="page">
   <a class="url fn n profile-usercard-hover" href="https://social.msdn.microsoft.com/profile/Donna Malayeri" target="_blank">
    Donna Malayeri
   </a>
   <time>
    6/1/2017 9:00:28 AM
   </time>
   <hr/>
   <div id="content">
    With the new
    <a href="https://blogs.msdn.microsoft.com/webdev/2017/05/10/azure-function-tools-for-visual-studio-2017/">
     Visual Studio 2017 support for Azure Functions
    </a>
    , you can now author functions using C# class libraries. With the new project type, triggers and bindings are defined using attributes, which are then converted to function.json as a build task.

To build the project on the server with continuous integration, you have two options: 1) the
    <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-continuous-deployment">
     Continuous Integration
    </a>
    feature of Functions, or 2)
    <a href="https://www.visualstudio.com/en-us/docs/build/get-started/ci-cd-part-1">
     Visual Studio Team Services
    </a>
    (VSTS). The code can be hosted on VSTS or an external service such as GitHub or Bitbucket.

The process is quite easy, thanks to a new build template: ASP.NET Core on .NET Framework. If you’re not familiar with VSTS build definitions, read
    <a href="https://www.visualstudio.com/en-us/docs/build/get-started/ci-cd-part-1">
     CI/CD for newbies
    </a>
    .

To create a build definition, do the following:
    <ol>
     <li>
      From the Build Definitions view in VSTS, select
      <strong>
       +New
      </strong>
      .
     </li>
     <li>
      Choose the template
      <strong>
       NET Core (.NET Framework)
      </strong>
      . Even though we’re not deploying an ASP.NET Core app, this template has the correctly configured tasks for a Functions project.
     </li>
     <li>
      Add a build task for
      <strong>
       Azure App Service Deploy
      </strong>
      .
      <ol>
       <li>
        Ensure you use a VS2017 build agent
       </li>
      </ol>
     </li>
     <li>
      Choose an Azure subscription and select your Function App under
      <strong>
       App Service name
      </strong>
      .
     </li>
     <li>
      Modify the
      <strong>
       Package or folder
      </strong>
      setting to use
      <code>
       $(build.artifactstagingdirectory)/**/*.zip
      </code>
     </li>
     <li>
      Save and queue the build.
     </li>
    </ol>
    Here’s an animated GIF that walks through the VSTS configuration steps:
    <a href="{{ site.baseurl }}/media/2017/06/vsts.gif">
     <img alt="" height="535" src="{{ site.baseurl }}/media/2017/06/vsts.gif" width="1000"/>
    </a>
   </div>
  </div>
 </body>
 <script src="{{ site.baseurl }}/resource/jquery-1.12.1.min.js" type="text/javascript">
 </script>
 <script src="{{ site.baseurl }}/resource/replace.js" type="text/javascript">
 </script>
</html>
