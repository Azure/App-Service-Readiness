---
title: "Deployment Slots Preview  for Azure Functions" 
hide_excerpt: true
---
<html><head>
<meta charset="utf-8"/>
</head>
<body>
<div id="page">

<a class="url fn n profile-usercard-hover" href="https://social.msdn.microsoft.com/profile/Daria Grigoriu" target="_blank">Daria Grigoriu</a>
<time>    6/13/2017 11:06:52 AM</time>
<hr/>
<div id="content">The Azure Functions Consumption Plan now includes a preview of deployment slots. Deployment slots are a valuable component of a cloud ready application development lifecycle. The feature enables development and production environment separation to isolate critical production workloads. At the same time deployment slots create a natural bridge between development and production where the next version of a Function App staged in a deployment slot can become the production version with a simple platform managed swap action. For more information on the deployment slots concept as used in the context of the broader App Service platform please see this <a href="https://docs.microsoft.com/azure/app-service-web/web-sites-staged-publishing">documentation article.</a>

You can explore the deployment slots preview via Azure Portal. Each Function App includes a view of deployment slots. The preview requires a one-time opt-in for each Function App available under the Function App's <strong>Settings</strong> tab. Opt-out is not available, simply delete deployment slots if no longer necessary.

<a href="{{ site.baseurl }}/media/2017/06/PreviewOptIn.png"><img alt="" class="alignnone size-mediumlarge wp-image-5076" height="237" src="{{ site.baseurl }}/media/2017/06/PreviewOptIn-500x237.png" width="500"/></a>

After preview opt-in the Function App secrets will be updated. Please copy the new secrets under the <strong>Manage</strong> node for each function. You can add a deployment slot under the <strong>Slots</strong> view. For the Consumption Plan you can include 1 other slot in addition to production.

<a href="{{ site.baseurl }}/media/2017/06/NewSlot.png"><img alt="" class="alignnone size-mediumlarge wp-image-5086" height="97" src="{{ site.baseurl }}/media/2017/06/NewSlot-500x97.png" width="500"/></a>

Each deployment slot can be treated as a standalone Function App with its own URL, its own content, and differentiated configuration. That means even input and output bindings can be different and the non-production version can be evolved independently without production dependencies if this is a requirement for your specific workload. You can designate configuration elements such as App Settings or Connection Strings as slot specific to make sure they will continue to be associated with the same slot after swap: e.g. a production slot will continue to point to the same production specific storage account.

<a href="{{ site.baseurl }}/media/2017/06/SlotSetting.png"><img alt="" class="alignnone size-mediumlarge wp-image-5095" height="42" src="{{ site.baseurl }}/media/2017/06/SlotSetting-500x42.png" width="500"/></a>

To swap a non-production deployment slot to production use the <strong>Swap</strong> action under the <strong>Overview</strong> tab for your Function App.

<a href="{{ site.baseurl }}/media/2017/06/Swap.png"><img alt="" class="alignnone size-mediumlarge wp-image-5105" height="98" src="{{ site.baseurl }}/media/2017/06/Swap-500x98.png" width="500"/></a>

You can select the swap type as direct swap or a swap with preview where destination slot configuration is applied to the source deployment slot to allow validation before the swap is finalized. You can also see a configuration diff to make sure you are aware and can react to how configuration elements are impacted by the swap action.

<a href="{{ site.baseurl }}/media/2017/06/ConfigDiff.png"><img alt="" class="alignnone size-mediumlarge wp-image-5115" height="183" src="{{ site.baseurl }}/media/2017/06/ConfigDiff-500x183.png" width="500"/></a>

The deployment slots preview will continue to evolve in the journey to general availability. There are some current limitations such as a single instance scale for non-production deployment slots. If your production Function App is running at large scale this limitation may result in a timeframe where throughput is decreased as the platform re-adjusts the scale after swap. For any questions or issues to share with the engineering team regarding the deployment slots preview please use the <a href="https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureFunctions">Azure Functions MSDN forum</a>.

Follow us on Twitter for product updates and community news <a href="https://twitter.com/AzureFunctions">@AzureFunctions</a>.</div>
</div></body>
<script src="{{ site.baseurl }}/resource/jquery-1.12.1.min.js" type="text/javascript"></script>
<script src="{{ site.baseurl }}/resource/replace.js" type="text/javascript"></script>
</html>
