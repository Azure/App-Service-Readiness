---
layout: post
hide_excerpt: true
---
<html><head>
<meta charset="utf-8"/>
</head>
<body>
<div id="page">

<a class="url fn n profile-usercard-hover" href="https://social.msdn.microsoft.com/profile/Adrian Hall (MSFT)" target="_blank">Adrian Hall (MSFT)</a>
<time>    3/30/2017 11:30:35 AM</time>
<hr/>
<div id="content">If you use a combination of Azure Mobile Services and Facebook authentication, then you will have noticed that the Facebook authentication stopped working yesterday.  This was due to the deprecation of an underlying Facebook OAuth protocol that the service relied on.  

If your Azure Mobile Services site has not been migrated yet, we have made changes in the backend to fix the protocol, so no action is required on your part.  We apologize for the downtime that this caused.

If your Azure Mobile Services site has been migrated, then you are in charge of the code that runs your site.  If your site is a .NET site, we have updated the Katana middleware that runs authentication within the site extension.  You need to update an App Setting within your site:

<ul>
<li>Log on to the <a href="https://portal.azure.com" target="_blank">Azure portal</a>.</li>
<li>Find your Azure App Service site and click it.  The easiest way to do this is to click <b>All Resources</b> then use the <b>Filter by name...</b> box to find your site.</li>
<li>Click <b>Application settings</b> (under Settings) in the left-hand menu.</li>
<li>Scroll down until you find <b>App settings</b>.</li>
<li>Update the <b>MOBILESERVICESDOTNET_EXTENSION_VERSION</b> value from 1.0.478 to <b>1.0.481</b>.</li>
<li>Click <b>Save</b> at the top of the Application settings blade.</li>
</ul>

If you are running a Node site, then you will need to update the Azure Mobile Services package that is an integral part of the site code to pick up the changes.  To do this:

<ul>
<li>Log on to the <a href="https://portal.azure.com" target="_blank">Azure portal</a>.</li>
<li>Find your Azure App Service site and click it.  The easiest way to do this is to click <b>All Resources</b> then use the <b>Filter by name...</b> box to find your site.</li>
<li>Click <b>Console</b> (under Development Tools) in the left-hand menu.</li>
<li>Run the command <tt>npm install azure-mobile-services@1.0.1</tt> to update the package.  Let this process complete.</li>
<li>Click <b>Overview</b> in the left-hand menu.</li>
<li>Click <b>Restart</b> to restart your site.</li>
</ul>

After the changes, please test the Facebook authentication to ensure it is working.  You can reach out to us on <a href="https://stackoverflow.com/questions/tagged/azure-mobile-services" target="_blank">Stack Overflow</a> or <a href="https://social.msdn.microsoft.com/forums/en-US/home?forum=azuremobile&amp;filter=alltypes&amp;sort=lastpostdesc" target="_blank">Azure Forums</a> to get additional help.

We would like to also take this opportunity to encourage you to update your site to Azure Mobile Apps.  This is the v2 edition of the same service, but contains a different client SDK and server SDK.  If you are a .NET developer, lots of information about developing the service is available in the Azure Mobile Apps Documentation (for <a href="https://docs.microsoft.com/en-us/azure/app-service-mobile/app-service-mobile-dotnet-how-to-use-client-library" target="_blank">Client</a> and <a href="https://docs.microsoft.com/en-us/azure/app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk" target="_blank">Server</a>) and my book.  For Node developers, you can use the <a href="https://www.npmjs.com/package/azure-mobile-apps-compatibility" target="_blank">Compatibility package</a> to convert your Mobile Services server to a Mobile Apps server.  Again, please reach out to us if you run into trouble.  As a reminder, the Azure Mobile Services <a href="https://azure.microsoft.com/en-us/blog/transition-of-azure-mobile-services/" target="_blank">reaches its end of life in May, 2017</a>.</div>
</div></body>
<script src="{{ site.baseurl }}/resource/jquery-1.12.1.min.js" type="text/javascript"></script>
<script src="{{ site.baseurl }}/resource/replace.js" type="text/javascript"></script>
</html>
